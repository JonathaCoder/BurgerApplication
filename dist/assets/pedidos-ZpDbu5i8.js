import{_ as m,M as S,r as g,o as n,c as i,w as y,v as C,a as v,b as t,F as p,d as _,t as d,p as f,e as b}from"./index-L3ei4dI4.js";const $={name:"Dashboard",components:{Mensagem:S},data(){return{burgers:null,burgers_id:null,status:[],msg:null}},methods:{async getList(){const a=await(await fetch("http://localhost:3000/burgers")).json();this.burgers=a,this.getStatus()},async getStatus(){const a=await(await fetch("http://localhost:3000/status")).json();this.status=a},async deleteBurger(s){await(await fetch(`http://localhost:3000/burgers/${s}`,{method:"DELETE"})).json(),this.msg="Pedido Removido com Sucesso",setTimeout(()=>this.msg="",3e3),this.getList()},async updateBurger(s,a){const r=s.target.value,u=JSON.stringify({status:r}),l=await(await fetch(`http://localhost:3000/burgers/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:u})).json();this.msg="Pedido Atualizado com Sucesso",setTimeout(()=>this.msg="",3e3),console.log(l)}},mounted(){this.getList(),this.getStatus()}},q=s=>(f("data-v-679491af"),s=s(),b(),s),k={class:"burger-table"},B=q(()=>t("div",{id:"burger-heading"},[t("div",{class:"order-id"},"#:"),t("div",null,"Cliente:"),t("div",null,"Pão:"),t("div",null,"Carne:"),t("div",null,"Opcionais:"),t("div",null,"Ações:")],-1)),D={id:"burger-tables-rows"},I={class:"order-numbers"},j=["onChange"],L=["value","selected"],P=["onClick"];function T(s,a,r,u,c,l){const h=g("Mensagem");return n(),i("div",k,[y(v(h,{msg:c.msg},null,8,["msg"]),[[C,c.msg]]),t("div",null,[B,t("div",D,[(n(!0),i(p,null,_(c.burgers,e=>(n(),i("div",{class:"burger-table-row",key:e.id},[t("div",I,d(e.id),1),t("div",null,d(e.nome),1),t("div",null,d(e.pao),1),t("div",null,d(e.carne),1),t("div",null,[t("ul",null,[(n(!0),i(p,null,_(e.opcionais,(o,w)=>(n(),i("li",{key:w},d(o),1))),128))])]),t("div",null,[t("select",{name:"status",class:"status",onChange:o=>l.updateBurger(o,e.id)},[(n(!0),i(p,null,_(c.status,o=>(n(),i("option",{value:o.tipo,key:o.id,selected:e.status==o.tipo},d(o.tipo),9,L))),128))],40,j),t("button",{class:"delete-btn",onClick:o=>l.deleteBurger(e.id)},"Cancelar",8,P)])]))),128))])])])}const x=m($,[["render",T],["__scopeId","data-v-679491af"]]),E={name:"pedidos",components:{Dashboard:x}},M=s=>(f("data-v-ea3c920f"),s=s(),b(),s),A={class:"main-container"},N=M(()=>t("h1",null,"Pedidos",-1));function F(s,a,r,u,c,l){const h=g("Dashboard");return n(),i("div",A,[N,v(h)])}const O=m(E,[["render",F],["__scopeId","data-v-ea3c920f"]]);export{O as default};
